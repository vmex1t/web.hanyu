---
const features = [
  {
    label: 'Dictionary',
    title: 'Deep character insights',
    description:
      'Look up any word or character and get definitions, decompositions, character forms, and example words — all in one view.',
    screenshot: '/screenshots/dict-tab-definitions.webp',
    alt: 'Dictionary tab showing definitions and decomposition',
  },
  {
    label: 'Writing',
    title: 'Master stroke order',
    description:
      'Practice writing characters stroke by stroke with animated guides and instant feedback. Build muscle memory the right way.',
    screenshot: '/screenshots/write-tab-animation.webp',
    alt: 'Write tab showing stroke order animation',
  },
  {
    label: 'Practice',
    title: 'Track your progress',
    description:
      'Test yourself with interactive practice sessions. See your accuracy and stroke order scores after every character.',
    screenshot: '/screenshots/practice-complete.webp',
    alt: 'Practice complete screen with score',
  },
];
---

<section class="features" id="features">
  <div class="container">
    <div class="features-header reveal">
      <span class="section-label">Features</span>
      <h2>Everything you need to learn Chinese</h2>
      <p class="features-subtitle">From looking up characters to writing them by hand — Hanyu brings together the tools that matter.</p>
    </div>

    {features.map((f, i) => (
      <div class:list={['feature-row', 'reveal', { 'feature-row--reverse': i % 2 === 1 }]}>
        <div class="feature-text">
          <span class="section-label">{f.label}</span>
          <h3>{f.title}</h3>
          <p>{f.description}</p>
        </div>
        <div class="feature-phone">
          <div class="phone-mockup">
            <img src={f.screenshot} srcset={`/screenshots/small/${f.screenshot.split('/').pop()} 280w, ${f.screenshot} 560w`} sizes="(max-width: 768px) 200px, 240px" alt={f.alt} width="280" height="606" loading="lazy" />
          </div>
        </div>
      </div>
    ))}
  </div>
</section>

<style>
  .features {
    padding-block: var(--section-padding);
  }

  .features-header {
    text-align: center;
    max-width: 560px;
    margin-inline: auto;
    margin-bottom: 72px;
  }

  .features-header h2 {
    margin-bottom: 16px;
  }

  .features-subtitle {
    color: var(--color-text-secondary);
    font-size: var(--size-body-lg);
  }

  .feature-row {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 64px;
    align-items: center;
    margin-bottom: 80px;
  }

  .feature-row:last-child {
    margin-bottom: 0;
  }

  .feature-row--reverse {
    direction: rtl;
  }

  .feature-row--reverse > * {
    direction: ltr;
  }

  .feature-text h3 {
    font-size: clamp(1.5rem, 2.5vw, 2rem);
    margin-bottom: 16px;
  }

  .feature-text p {
    color: var(--color-text-secondary);
    font-size: var(--size-body-lg);
    line-height: 1.7;
  }

  .feature-phone {
    display: flex;
    justify-content: center;
  }

  .feature-phone .phone-mockup {
    width: 240px;
  }

  @media (max-width: 768px) {
    .feature-row {
      grid-template-columns: 1fr;
      gap: 40px;
      text-align: center;
      margin-bottom: 64px;
    }

    .feature-row--reverse {
      direction: ltr;
    }

    .feature-phone .phone-mockup {
      width: 200px;
      margin-inline: auto;
    }
  }
</style>
